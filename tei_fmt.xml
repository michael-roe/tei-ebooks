<?xml version="1.0" encoding="UTF-8"?>
<xsl:stylesheet version="1.0"
xmlns:tei="http://www.tei-c.org/ns/1.0"
xmlns:xsl="http://www.w3.org/1999/XSL/Transform">

<xsl:template match="/">
<html>
<body>

<h1 style="text-align:center"><xsl:value-of select="tei:TEI/tei:teiHeader/tei:fileDesc/tei:titleStmt/tei:title"/></h1>

<p style="text-align:center">By <xsl:value-of select="tei:TEI/tei:teiHeader/tei:fileDesc/tei:titleStmt/tei:author"/></p>

<xsl:apply-templates select="/tei:TEI/tei:text/tei:body"/>

</body>
</html>
</xsl:template>

<xsl:template match="tei:div">
<section>
<xsl:choose>
<xsl:when test="@subtype='book'">
<h2>Book <xsl:value-of select="@n"/></h2>
</xsl:when>
<xsl:when test="@subtype='number'">
<h3><xsl:value-of select="@n"/></h3>
</xsl:when>
</xsl:choose>
<xsl:apply-templates select="child::*"/>
</section>
</xsl:template>

<xsl:template match="tei:div1">
<div>
<xsl:apply-templates select="child::*"/>
<p style="margin-left: 6em; text-align:left">==========</p>
</div>
</xsl:template>

<xsl:template match="tei:div2">
<div>
<xsl:apply-templates select="child::*"/>
<p style="margin-left: 6em; text-align:left" >----------</p>
</div>
</xsl:template>

<xsl:template match="tei:sp">
<xsl:apply-templates select="child::*"/>
</xsl:template>

<xsl:template match="tei:speaker">
<p style="margin-left:6em; font-weight:bold"><xsl:value-of select="."/></p>
</xsl:template>

<xsl:template match="tei:p">
<p>
<xsl:apply-templates select="node()"/>
</p>
</xsl:template>

<xsl:template match="tei:stage">
<p style="margin-left: 6em; color:green">
[<xsl:apply-templates select="node()"/>]
</p>
</xsl:template>

<xsl:template match="tei:l">
<xsl:choose>
<xsl:when test="@part='M'">&#xA0;&#xA0;</xsl:when>
<xsl:when test="@part='F'">&#xA0;&#xA0;&#xA0;&#xA0;</xsl:when>
<xsl:otherwise> </xsl:otherwise>
</xsl:choose>
<xsl:apply-templates select="node()"/><br/>
</xsl:template>

<xsl:template match="tei:lb">
<br/>
</xsl:template>

<xsl:template match="tei:num">
<span style="font-weight: bold"><xsl:apply-templates select="node()"/></span>
</xsl:template>

<xsl:template match="tei:term">
<span style="font-weight: bold"><b><xsl:apply-templates select="node()"/></b></span>
</xsl:template>

<xsl:template match="tei:figure">
</xsl:template>

<xsl:template match="tei:q">
&#x201c;<xsl:value-of select="node()"/>&#x201d;
</xsl:template>

<xsl:template match="tei:add">
&#x2039;<span style="color:blue"><xsl:value-of select="node()"/></span>&#x203a;
</xsl:template>

<xsl:template match="tei:del">
<span style="text-decoration-line: line-through"><xsl:value-of select="node()"/></span>
</xsl:template>

<xsl:template match="tei:seg">
<xsl:choose>
<xsl:when test="@type='doubtful'">
&#x2020;<span style="color:blue"><xsl:value-of select="node()"/></span>&#x2020;
</xsl:when>
<xsl:otherwise>
<span style="color:magenta"><xsl:value-of select="node()"/></span>
</xsl:otherwise>
</xsl:choose>
</xsl:template>

<xsl:template match="tei:metamark">
<xsl:choose>
<xsl:when test="@function='lacuna'">
* * * * *
</xsl:when>
<xsl:when test="@function='insert'">
+++
</xsl:when>
<xsl:otherwise>
<xsl:value-of select="."/>
</xsl:otherwise>
</xsl:choose>
</xsl:template>

<xsl:template match="tei:milestone">
[page]
</xsl:template>

</xsl:stylesheet>
